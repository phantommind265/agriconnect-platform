{% extends "base.html" %}
{% block content %}
<div class="container mt-4 pt-3">
<h2 class="fw-bold text-success mb-4">Your Equipment</h2>
{% if equipments %}
<a href="{{ url_for('equipment.usage_analytics') }}" class="btn btn-info mb-4 shadow-sm">View Usage Analytics</a>
<ul>
	<div class="row">
{% for eq in equipments %}
<div class="col-md-6 col-lg-4 mb-4">
	<div class="card shadow-sm h-100" style"border-radius:16px;">
	    {% if eq['image_filename'] %}
                <img src="{{ url_for('static', filename='uploads/equipment/' ~ eq['image_filename']) }}" class="card-img-top" style="height=:200px; object-fit:cover; border-top-left-radius:16px; border-top-right-redius:16px;">
            {% else %}
	    <div class="d-flex align-items-center justify-content-center bg-light text-muted" style="height:100px; border-top-left-radius:16px; border-top-right-redius:16px;">No Image Available</div>
	    {% endif %}
	    <div class="card-body d-flex flex-column">
		    <h5 class="card-title fw-bold text-success">{{ eq[1] }}</h5><p class="card-text text-muted mb-4">Type: ({{ eq[2] }})</p>
		    <div class="mt-auto">
			    <a href="{{ url_for('equipment.availability', equipment_id=eq[0]) }}" class="btn btn-outline-success btn-sm w-100 mb-2">Manage Availability</a>
			    <a href="{{ url_for('equipment.request_booking', equipment_id=eq[0]) }}" class="btn btn-outline-success btn-sm w-100 mb-2">Book This</a>
			    <a href="{{ url_for('equipment.maintenance_log', equipment_id=eq[0]) }}" class="btn btn-outline-success btn-sm w-100 mb-2">Maintenance Log</a>
		    </div>
	    </div>
	</div>
</div>
{% endfor %}
	</div>

{% else %}
<div class="alert alert-info shadow-sm" role="alert">
    No equipment registered yet.
</div>
{% endif %}
</div>
{% endblock %}

